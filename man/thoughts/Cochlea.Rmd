---
title: "Cochlea"
output:
  github_document: default
always_allow_html: true
---
```{r, echo=F, message=F, include=F}
devtools::load_all(".")
source('./man/code/plot.R')
source('./man/code/utils.R')
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "../figures/Cochlea-"
)
knitr::opts_chunk$set(dev = 'svg')
p = RATIONAL_FRACTION_PRECISION
min_amplitude = MIN_AMPLITUDE
```

```{r}
x     = c(60) %>% mami.codi(verbose=T, num_harmonics=10)
```
```{r}
freqs = x$spectrum[[1]] %>% dplyr::filter(.data$y>min_amplitude) %>% hrep::freq()
freqs
```
```{r}
l     = 100 - 100 * (log10( freqs / 165.4 + 0.88 ) / 2.1)
l
```
```{r}
alpha = min(l) / min(freqs)
alpha
```
```{r}
f = freqs * alpha
f
```
