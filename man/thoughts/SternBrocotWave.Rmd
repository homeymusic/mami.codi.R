---
title: "Stern-Brocot Wave"
output:
  github_document: default
always_allow_html: true
---
```{r, echo=F, message=F, include=F}
devtools::load_all(".")
source('./man/code/plot.R')
source('./man/code/utils.R')
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "../figures/Stern-Brocot-Wave-"
)
knitr::opts_chunk$set(dev = 'png')
```

## Stern-Brocot Wave

Find a wave
```{r, echo=F, message=F}
x = 3 / 2
v = 1 / (4 * pi)
start = x - v
stop  = x + v
result = stern_brocot(start,v/10000)
result
```
```{r, echo=F, message=F}
result[1]  / result [2]
```
```{r, echo=F, message=F}
result = stern_brocot(stop,v/10000)
result 
```

```{r, echo=F, message=F}
result[1]  / result [2]
```
```{r, echo=F, message=F}
window = 0.00001
rationals = seq(from=start, to=stop, by=window)
sb <- function(x) {
  fraction = stern_brocot(x, window*1000)
  fraction[1] / fraction[2]
}
estimates = vapply(rationals, FUN=sb, FUN.VALUE = numeric(1))
hist(estimates)
```
